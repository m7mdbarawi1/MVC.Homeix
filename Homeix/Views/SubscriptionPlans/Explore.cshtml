@model IEnumerable<Homeix.Models.SubscriptionPlan>

@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["ChoosePlanTitle"];
}

<div class="container mt-5">

    <!-- HEADER -->
    <div class="text-center mb-5">
        <h1 class="page-title">@ViewData["Title"]</h1>
        <p class="text-muted fs-5">
            @Localizer["AvailablePlansSubtitle"]
        </p>
    </div>

    <!-- PLANS -->
    <div class="row justify-content-center g-4">

        @if (Model != null && Model.Any(p => p.IsActive))
        {
            foreach (var plan in Model.Where(p => p.IsActive))
            {
                <div class="col-md-4">
                    <div class="card h-100 text-center shadow-sm">
                        <div class="card-body d-flex flex-column p-4">

                            <!-- PLAN NAME -->
                            <h3 class="mb-3">@plan.PlanName</h3>

                            <!-- PRICE -->
                            <div class="display-6 fw-bold mb-1">
                                @plan.Price.ToString("0.00") JOD
                            </div>

                            <!-- DURATION -->
                            <p class="text-muted mb-4">
                                @Localizer["ValidForDuration", plan.DurationDays]
                            </p>

                            <!-- REAL FEATURES ONLY -->
                            <ul class="list-unstyled text-start mb-4">

                                <li class="mb-2">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <strong>@Localizer["PostsPerMonthLabel"]:</strong>
                                    @(plan.MaxPostsPerMonth.HasValue
                                        ? plan.MaxPostsPerMonth.Value.ToString()
                                        : Localizer["Unlimited"].Value)
                                </li>

                                <li class="mb-2">
                                    <i class="bi bi-check-circle-fill text-success me-2"></i>
                                    <strong>@Localizer["StatusLabel"]:</strong>
                                    @Localizer["ActiveStatus"]
                                </li>

                            </ul>

                            <!-- ACTION -->
                            <div class="mt-auto">
                                <a asp-action="Details"
                                   asp-route-id="@plan.PlanId"
                                   class="btn btn-accent btn-lg w-100">
                                    @Localizer["ViewDetailsButton"]
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12">
                <div class="alert alert-secondary text-center">
                    @Localizer["NoActivePlans"]
                </div>
            </div>
        }

    </div>

</div>
