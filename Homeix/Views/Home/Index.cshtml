@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = "Home";
    bool isAuth = User?.Identity?.IsAuthenticated ?? false;
}

<!-- ==========================================
   HERO (Enhanced, Modern, Responsive)
========================================== -->
<section class="home-hero position-relative">
    <!-- Decorative pattern -->
    <img src="~/images/home/tools-pattern.png"
         alt=""
         class="position-absolute top-0 start-0 w-100 h-100 hero-pattern"
         style="object-fit: cover; opacity: .12; pointer-events: none;" />

    <!-- Animated blobs -->
    <div class="home-blob blob-1"></div>
    <div class="home-blob blob-2"></div>
    <div class="home-blob blob-3"></div>

    <div class="container position-relative hero-container">
        <div class="row justify-content-center align-items-center min-vh-70">
            <div class="col-lg-10 col-xl-9 text-center">

                <!-- Badge -->
                <div class="hero-badge-wrapper reveal">
                    <div class="hero-badge">
                        <i class="bi bi-shield-check"></i>
                        <span>Verified professionals • Clear details • Trusted workflows</span>
                    </div>
                </div>

                <!-- Main Title -->
                <h1 class="hero-title fw-bold reveal">
                    Fix your home.<br class="d-none d-md-block" />
                    <span class="hero-highlight">Faster. Safer. Smarter.</span>
                </h1>

                <!-- Subtitle -->
                <p class="hero-subtitle lead reveal">
                    Homeix connects customers with approved home-service professionals through one organized platform —
                    so you can post needs, compare options, and choose confidently.
                </p>

                <!-- Action Buttons -->
                <div class="hero-actions reveal">
                    @if (isAuth)
                    {
                        <a asp-controller="Account" asp-action="HomeRedirect"
                           class="btn btn-hero-primary btn-lg">
                            <i class="bi bi-speedometer2 me-2"></i>Go to Dashboard
                        </a>
                    }
                    else
                    {
                        <a asp-controller="Account" asp-action="Register"
                           class="btn btn-hero-primary btn-lg">
                            <i class="bi bi-person-plus me-2"></i>Create Account
                        </a>
                        <a asp-controller="Account" asp-action="Login"
                           class="btn btn-hero-secondary btn-lg">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Login
                        </a>
                    }
                    <a asp-controller="WorkerPosts" asp-action="Index"
                       class="btn btn-hero-outline btn-lg">
                        <i class="bi bi-search me-2"></i>Browse Professionals
                    </a>
                </div>

                <!-- Mobile App Download -->
                <div class="hero-app-download reveal">
                    <a asp-controller="Downloads" asp-action="MobileApp" class="app-download-link">
                        <i class="bi bi-android2"></i>
                        <span>@Localizer["DownloadApp"]</span>
                    </a>
                </div>

                <!-- Stats Cards -->
                <div class="row g-3 justify-content-center hero-stats reveal">
                    <div class="col-6 col-md-4">
                        <div class="hero-stat-card">
                            <div class="stat-icon">
                                <i class="bi bi-shield-check"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Trusted</div>
                                <div class="stat-desc">Approved professionals</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-4">
                        <div class="hero-stat-card">
                            <div class="stat-icon">
                                <i class="bi bi-eye"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Clear</div>
                                <div class="stat-desc">Details, photos, price range</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-4">
                        <div class="hero-stat-card">
                            <div class="stat-icon">
                                <i class="bi bi-columns-gap"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-label">Organized</div>
                                <div class="stat-desc">One place to manage it</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Features List -->
                <div class="hero-features reveal">
                    <div class="feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Profiles you can trust</span>
                    </div>
                    <div class="feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Ratings & reviews</span>
                    </div>
                    <div class="feature-item">
                        <i class="bi bi-check-circle-fill"></i>
                        <span>Search & favorites</span>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Bottom Wave -->
    <div class="hero-wave">
        <svg viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25"></path>
            <path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5"></path>
            <path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z"></path>
        </svg>
    </div>
</section>

<!-- ==========================================
   WHY HOMEIX (REAL VALUE – CUSTOMER & WORKER)
========================================== -->
<section class="py-5 section-why-homeix">
    <div class="container">
        <div class="text-center mb-4 reveal">
            <h2 class="fw-bold mb-2">Why Homeix?</h2>
            <p class="text-muted mb-0">
                Built to solve real problems: trust, unclear details, and hard communication.
            </p>
        </div>

        <!-- Split value for both sides -->
        <div class="row g-4 align-items-stretch mb-4">
            <div class="col-lg-6 reveal">
                <div class="p-4 rounded-4 h-100 border card-custom-bg"
                     style="box-shadow: 0 10px 30px rgba(0,0,0,.06);">
                    <div class="d-flex align-items-center gap-2 mb-2">
                        <i class="bi bi-person-heart fs-4 text-primary"></i>
                        <h4 class="fw-bold mb-0">For Customers</h4>
                    </div>
                    <p class="text-muted mb-0">
                        Find reliable help faster. Compare options using real profiles, clear service details,
                        and community feedback—so you choose with confidence.
                    </p>
                </div>
            </div>

            <div class="col-lg-6 reveal">
                <div class="p-4 rounded-4 h-100 border card-custom-bg"
                     style="box-shadow: 0 10px 30px rgba(0,0,0,.06);">
                    <div class="d-flex align-items-center gap-2 mb-2">
                        <i class="bi bi-briefcase fs-4 text-primary"></i>
                        <h4 class="fw-bold mb-0">For Professionals</h4>
                    </div>
                    <p class="text-muted mb-0">
                        Reach real customers in a structured marketplace. Present your services clearly,
                        build reputation with reviews, and manage your work from one place.
                    </p>
                </div>
            </div>
        </div>

        <div class="row g-4 text-center">

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-person-check"></i></div>
                        <h5 class="fw-bold mt-3">Approved professionals</h5>
                        <p class="text-muted mb-0">
                            Professionals apply before offering services, helping customers feel safer when choosing.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-card-checklist"></i></div>
                        <h5 class="fw-bold mt-3">Clear service details</h5>
                        <p class="text-muted mb-0">
                            Posts include useful information like descriptions, photos, and price ranges—so expectations are clearer.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-star"></i></div>
                        <h5 class="fw-bold mt-3">Ratings & reviews</h5>
                        <p class="text-muted mb-0">
                            Reputation is visible to everyone, encouraging better quality and more accountable behavior.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-person-lines-fill"></i></div>
                        <h5 class="fw-bold mt-3">Public profiles</h5>
                        <p class="text-muted mb-0">
                            View profile info, services, and reviews to make smarter decisions before contacting anyone.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-funnel"></i></div>
                        <h5 class="fw-bold mt-3">Search & filtering</h5>
                        <p class="text-muted mb-0">
                            Find what you need faster by filtering by category, price range, and community rating.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-heart"></i></div>
                        <h5 class="fw-bold mt-3">Favorites</h5>
                        <p class="text-muted mb-0">
                            Save posts you like and return to them later without searching again.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-images"></i></div>
                        <h5 class="fw-bold mt-3">Photos that explain more</h5>
                        <p class="text-muted mb-0">
                            Photos help customers explain problems better and help professionals present services clearly.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-megaphone"></i></div>
                        <h5 class="fw-bold mt-3">Highlighted offers</h5>
                        <p class="text-muted mb-0">
                            Featured content helps users discover important offers faster while keeping the marketplace organized.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 reveal">
                <div class="card h-100 shadow-sm border-0 rounded-4">
                    <div class="card-body p-4">
                        <div class="icon-bubble mx-auto"><i class="bi bi-phone"></i></div>
                        <h5 class="fw-bold mt-3">Responsive experience</h5>
                        <p class="text-muted mb-0">
                            Smooth experience across desktop and mobile so users can manage work anywhere.
                        </p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Trust statement aligned with your report -->
        <div class="mt-5 reveal">
            <div class="p-4 rounded-4 border card-custom-bg"
                 style="box-shadow: 0 10px 30px rgba(0,0,0,.06);">
                <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center justify-content-between gap-3">
                    <div>
                        <h5 class="fw-bold mb-1">Built on trust + transparency</h5>
                        <p class="text-muted mb-0">
                            Homeix reduces uncertainty by using verified workflows, clear post information, and real community feedback —
                            improving the whole home-service experience for everyone.
                        </p>
                    </div>

                    <div class="d-flex gap-2 flex-wrap">
                        <a asp-controller="WorkerPosts" asp-action="Index" class="btn btn-outline-primary">
                            Explore Services
                        </a>
                        <a asp-controller="CustomerPosts" asp-action="Create" class="btn btn-primary">
                            Post a Request
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<!-- ==========================================
   POPULAR SERVICES
========================================== -->
<section class="py-5 section-popular-services">
    <div class="container">
        <div class="text-center mb-4 reveal">
            <h2 class="fw-bold mb-1">Popular services</h2>
            <p class="text-muted mb-0">Hover or tap to preview — the row moves automatically.</p>
        </div>

        @functions {
            string ServiceImg(string file) => Url.Content("~/images/home/services/" + file);
        }

        @{
            var services = new[]
            {
        new { Name = "Plumbing", Icon = "bi-wrench-adjustable", Img = "plumbing.jpg" },
        new { Name = "Electrical", Icon = "bi-lightning-charge", Img = "electrical.jpg" },
        new { Name = "AC / Cooling", Icon = "bi-snow", Img = "ac.jpg" },
        new { Name = "Painting", Icon = "bi-brush", Img = "painting.jpg" },
        new { Name = "Cleaning", Icon = "bi-bucket", Img = "cleaning.jpg" },
        new { Name = "Repairs", Icon = "bi-tools", Img = "repairs.jpg" },
        new { Name = "Carpentry", Icon = "bi-door-open", Img = "carpentry.jpg" },
        new { Name = "Maintenance", Icon = "bi-house-gear", Img = "maintenance.jpg" },
        };
        }

        <div class="popular-marquee reveal">
            <div class="popular-track">
                @for (int loop = 0; loop < 2; loop++)
                {
                    foreach (var s in services)
                    {
                        <div class="service-flip popular-item" role="button" tabindex="0">
                            <div class="flip-inner">
                                <div class="flip-face flip-front card shadow-sm border-0 rounded-4">
                                    <div class="card-body text-center py-4">
                                        <i class="bi @s.Icon fs-1 text-primary"></i>
                                        <div class="fw-bold mt-2">@s.Name</div>
                                        <div class="text-muted small">Tap to preview</div>
                                    </div>
                                </div>
                                <div class="flip-face flip-back card shadow-sm border-0 rounded-4 overflow-hidden">
                                    <img src="@ServiceImg(s.Img)" alt="@s.Name" />
                                </div>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>
<!-- ==========================================
   CUSTOMER & PROFESSIONAL ROLES (INFORMATION)
========================================== -->
<section class="py-5 section-role-info">
    <div class="container">

        <!-- Section Header -->
        <div class="text-center mb-5 reveal">
            <h2 class="fw-bold mb-2">Customer and Professional Roles</h2>
            <p class="text-muted mb-0">
                Homeix is designed to support both sides of the home-service process in one organized system.
            </p>
        </div>

        <div class="row g-4 justify-content-center">

            <!-- CUSTOMER -->
            <div class="col-lg-5 reveal">
                <div class="h-100 border rounded-4 p-4 card-custom-bg">
                    <div class="d-flex align-items-center gap-3 mb-3">
                        <div class="icon-bubble">
                            <i class="bi bi-house-check"></i>
                        </div>
                        <h4 class="fw-bold mb-0">Customer</h4>
                    </div>

                    <p class="text-muted mb-3">
                        Customers use Homeix to request home services and explore available professionals
                        through clear profiles, structured posts, and community feedback.
                    </p>

                    <ul class="list-unstyled text-muted small mb-0">
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Create service requests with detailed descriptions
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Compare professionals using profiles and ratings
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            View photos, price ranges, and reviews
                        </li>
                        <li>
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Save posts for later reference
                        </li>
                    </ul>
                </div>
            </div>

            <!-- PROFESSIONAL -->
            <div class="col-lg-5 reveal">
                <div class="h-100 border rounded-4 p-4 card-custom-bg">
                    <div class="d-flex align-items-center gap-3 mb-3">
                        <div class="icon-bubble">
                            <i class="bi bi-person-badge"></i>
                        </div>
                        <h4 class="fw-bold mb-0">Professional</h4>
                    </div>

                    <p class="text-muted mb-3">
                        Professionals use Homeix to present their services in a verified marketplace
                        and connect with customers seeking reliable home-service solutions.
                    </p>

                    <ul class="list-unstyled text-muted small mb-0">
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Apply for verification before offering services
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Publish structured service posts with clear details
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Build reputation through ratings and reviews
                        </li>
                        <li>
                            <i class="bi bi-check-circle me-2 text-primary"></i>
                            Manage services and visibility from one platform
                        </li>
                    </ul>
                </div>
            </div>

        </div>

    </div>
</section>

<!-- ==========================================
   FAQ
========================================== -->
<section class="py-5 section-faq">
    <div class="container">
        <div class="text-center mb-4 reveal">
            <h2 class="fw-bold mb-2">Frequently asked questions</h2>
            <p class="text-muted mb-0">Quick answers to common questions.</p>
        </div>

        <div class="accordion accordion-flush border rounded-4 overflow-hidden reveal" id="homeixFaq">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" data-bs-toggle="collapse" data-bs-target="#a1">
                        How do I post a request as a customer?
                    </button>
                </h2>
                <div id="a1" class="accordion-collapse collapse show">
                    <div class="accordion-body text-muted">
                        Create an account, then publish a request with a clear description, location, photos, and budget range.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#a2">
                        How do professionals join Homeix?
                    </button>
                </h2>
                <div id="a2" class="accordion-collapse collapse">
                    <div class="accordion-body text-muted">
                        Professionals submit an application. Once approved, they can publish services and appear to customers in the marketplace.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#a3">
                        How do I choose the right person?
                    </button>
                </h2>
                <div id="a3" class="accordion-collapse collapse">
                    <div class="accordion-body text-muted">
                        Use filters, view profiles, and check ratings and reviews to compare options before deciding.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#a4">
                        Can I save posts to review later?
                    </button>
                </h2>
                <div id="a4" class="accordion-collapse collapse">
                    <div class="accordion-body text-muted">
                        Yes. You can add posts to Favorites so you can return to them anytime.
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- ==========================================
   CTA
========================================== -->
<section class="section-cta text-white py-5">
    <div class="container text-center reveal">
        <h2 class="fw-bold mb-2 text-white">Ready to start?</h2>
        <p class="text-white-50 mb-4">
            Join Homeix and manage home services with more trust, clarity, and control.
        </p>

        <div class="d-flex justify-content-center flex-wrap gap-2">
            @if (isAuth)
            {
                <a asp-controller="Account" asp-action="HomeRedirect" class="btn btn-accent btn-lg fw-bold">
                    Open My Homeix
                </a>
            }
            else
            {
                <a asp-controller="Account" asp-action="Register" class="btn btn-accent btn-lg fw-bold">
                    Create Account
                </a>
                <a asp-controller="Account" asp-action="Login" class="btn btn-outline-light btn-lg">
                    Login
                </a>
            }

            <a asp-controller="WorkerApprovals" asp-action="Index" class="btn btn-outline-light btn-lg">
                Become a Professional
            </a>
        </div>

        <div class="d-flex justify-content-center mt-3">
            <a asp-controller="Downloads"
               asp-action="MobileApp"
               class="btn btn-outline-light btn-sm d-flex align-items-center gap-2 px-3 py-2">
                <i class="bi bi-android2 fs-5"></i>
                <span>@Localizer["DownloadApp"]</span>
            </a>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const els = document.querySelectorAll(".reveal");
            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) e.target.classList.add("is-visible");
                });
            }, { threshold: 0.12 });

            els.forEach(el => obs.observe(el));

            document.querySelectorAll(".service-flip").forEach(card => {
                card.addEventListener("click", () => card.classList.toggle("is-flipped"));
                card.addEventListener("keypress", (ev) => {
                    if (ev.key === "Enter" || ev.key === " ") {
                        ev.preventDefault();
                        card.classList.toggle("is-flipped");
                    }
                });
            });
        });
    </script>
}